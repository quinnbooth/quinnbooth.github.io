import*as e from"https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.module.js";import{GLTFLoader as _}from"https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/loaders/GLTFLoader.js";import"https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/loaders/FBXLoader.js";const $=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))p(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&p(i)}).observe(document,{childList:!0,subtree:!0});function f(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(n){if(n.ep)return;n.ep=!0;const r=f(n);fetch(n.href,r)}};$();var x=0,ee=75;const c=new e.Scene,a=new e.PerspectiveCamera(ee,window.innerWidth/window.innerHeight,.1,1e3),S=new e.WebGLRenderer({canvas:document.querySelector("#bg"),antialias:!0});S.setPixelRatio(window.devicePixelRatio);S.setSize(window.innerWidth,window.innerHeight);a.position.setZ(40);S.render(c,a);var E=2*Math.tan(a.fov*Math.PI/180/2)*a.position.z,te=E*a.aspect;a.position.setZ(500);const oe=new e.PointLight(16777215),V=new e.AmbientLight(16777215);V.intensity=.5;c.add(oe);c.add(V);const Z=new _;var ne=new e.Clock;new e.TextureLoader().load("images/space3.jpg");const ie=new e.SphereGeometry(3,100,10,1e3),re=new e.SphereGeometry(1,100,10,1e3),se=new e.SphereGeometry(1.3,100,10,1e3),ae=new e.SphereGeometry(1.3,100,10,1e3),ce=new e.SphereGeometry(1,100,10,1e3),le=new e.SphereGeometry(2.3,100,10,1e3),pe=new e.CircleGeometry(2.9,100,0,1e3),he=new e.SphereGeometry(2,100,10,1e3),de=new e.CircleGeometry(3,100,0,1e3),fe=new e.SphereGeometry(1.7,100,10,1e3),ue=new e.CircleGeometry(2.5,100,0,1e3),we=new e.SphereGeometry(1.6,100,10,1e3),me=new e.CircleGeometry(2.4,100,0,1e3),Me=new e.MeshBasicMaterial({color:15883266,wireframe:!1}),ye=new e.MeshStandardMaterial({color:12141824,wireframe:!1}),ve=new e.MeshStandardMaterial({color:14134077,wireframe:!1}),xe=new e.MeshStandardMaterial({color:4098273,wireframe:!1}),Se=new e.MeshStandardMaterial({color:12335616,wireframe:!1}),ge=new e.MeshStandardMaterial({color:14925913,wireframe:!1}),Fe=new e.MeshStandardMaterial({color:15323532,wireframe:!0}),Ce=new e.MeshStandardMaterial({color:15056232,wireframe:!1}),Le=new e.MeshStandardMaterial({color:13812125,wireframe:!0}),Ae=new e.MeshStandardMaterial({color:11988723,wireframe:!1}),Pe=new e.MeshStandardMaterial({color:13563384,wireframe:!0}),be=new e.MeshStandardMaterial({color:1926626,wireframe:!1}),ze=new e.MeshStandardMaterial({color:6590943,wireframe:!0}),I=new e.Mesh(ie,Me),Ge=new e.Mesh(re,ye),Ee=new e.Mesh(se,ve),je=new e.Mesh(ae,xe),Be=new e.Mesh(ce,Se),R=new e.Mesh(le,ge),Ie=new e.Mesh(pe,Fe),W=new e.Mesh(he,Ce),Re=new e.Mesh(de,Le),D=new e.Mesh(fe,Ae),We=new e.Mesh(ue,Pe),H=new e.Mesh(we,be),De=new e.Mesh(me,ze);var j=0,N=[],X=[],P=[];function He(o,l,f,p,n,r){const i=[I,Ge,Ee,je,Be,R,W,D,H],g=[R,W,D,H],h=[Ie,Re,We,De];if(o==0){var z=te;E<z&&(z=E);var Q=z/20;c.add(I);for(let t=1;t<i.length;t++){c.add(i[t]);var d=2*Math.PI*Math.random();i[t].position.set(l*Math.cos(d),l*Math.sin(d),0),l+=Q,n.push(.005*Math.random()),P.push(0)}for(let t=0;t<h.length;t++)c.add(h[t]),h[t].position.set(g[t].position.x,g[t].position.y,0),p.push([.005*Math.random(),.005*Math.random(),.005*Math.random()]);j=1}else if(o==1){i[0].rotation.x+=f[0],i[0].rotation.y+=f[1],i[0].rotation.z+=f[2];for(let t=1;t<i.length;t++){const u=t-1;i[t].rotation.x+=f[0],i[t].rotation.y+=f[1],i[t].rotation.z+=f[2];var B=i[t].position.x,U=i[t].position.y,G=Math.sqrt(Math.pow(B,2)+Math.pow(U,2)),d=Math.acos(B/G)*(-2*r[u]+1)+n[u];i[t].position.x=G*Math.cos(d),i[t].position.y=G*Math.sin(d),Math.abs(d-Math.PI)<n[u]?(d=Math.PI+.001,r[u]=-1*r[u]+1):Math.abs(d)<n[u]&&(d=.001,r[u]=-1*r[u]+1)}for(let t=0;t<h.length;t++)h[t].rotation.x+=p[t][0],h[t].rotation.y+=p[t][1],h[t].rotation.z+=p[t][2],h[t].position.set(g[t].position.x,g[t].position.y,0)}else{j=0;for(var Ve in n)n.pop(),P.pop();for(var Ze in p)p.pop();N=[],X=[],P=[],c.background=new e.Color(0);for(const t of i)c.remove(t);for(const t of h)c.remove(t)}}const Y=new e.BufferGeometry;var K=new Float32Array(9e3);for(let o=0;o<9e3;o++)K[o]=Math.random()*600-300;Y.setAttribute("position",new e.BufferAttribute(K,3));let Te=new e.TextureLoader().load("/images/star1.png"),Oe=new e.PointsMaterial({color:11184810,size:.75,map:Te,transparent:!0});const v=new e.Points(Y,Oe);c.add(v);var T=!0,F=0,M=0;function ke(){a.position.z>250?(a.position.z+=F,F-=.001,M<.0012&&(M+=3e-6),v.rotation.z+=M):a.position.z>45?(a.position.z+=F,F+=.001225,M>75e-6&&(M-=3e-6),v.rotation.z+=M):(v.rotation.z+=75e-6,T&&(c.remove(w),T=!1)),a.rotation.x<.25&&(a.rotation.x+=2e-4),a.position.y>-15&&(a.position.y-=6/500)}const m=new e.PointLight(16777215);m.intensity=2;c.add(m);m.position.set(-2,-2,502);var s=new e.Mesh;Z.load("/models/gltf/spaceship1.glb",o=>{o.scene.scale.set(.3,.3,.3),o.scene.position.set(-4.5,.3,498),o.scene.rotation.set(Math.PI/9,-1*Math.PI/7,0),s=o.scene,c.add(s)});var C=0;function O(o){o==0&&(C==100845&&(C=0),s.rotation.x=-.05*Math.sin(C/300)+Math.PI/10,C++)}var L=.01,A=-85e-5;const k=-143e-7,q=12e-7;function qe(o){o==0?(s.position.x<-1&&(s.position.x+=L,L+=k),s.position.y>0&&(s.position.y+=A,A+=q),s.position.x>=-1&&s.position.y<=0&&y&&y.play(),O(0),v.rotation.z+=75e-6):o==1&&(s.position.x<6&&(s.position.x+=L,L-=2*k),s.position.y>-.5&&(s.position.y+=A,A-=2*q),O(0),m.intensity>0&&(m.intensity=m.intensity-.004),s.position.x>=6&&s.position.y<=-.5&&(x++,c.remove(m)),v.rotation.z+=75e-6)}let b,w,y;Z.load("/models/gltf/typingtext1.glb",o=>{w=o.scene,w.scale.set(.25,.01,.25),w.position.set(0,.65,499),w.rotation.set(90,0,0),c.add(w),b=new e.AnimationMixer(w),o.animations.forEach(l=>{y=b.clipAction(l),y.setLoop(e.LoopOnce),y.clampWhenFinished=!0,y.enable=!0})});window.addEventListener("click",function(o){x==0&&s.position.x>=-1&&s.position.y<=0&&(x=1)});window.addEventListener("resize",function(){a.aspect=window.innerWidth/this.window.innerHeight,a.updateProjectionMatrix(),S.setSize(window.innerWidth,window.innerHeight)});function J(){requestAnimationFrame(J);var o=ne.getDelta();b&&b.update(o),He(j,5,[.002,.001,.003],X,N,P),qe(x),x==2&&ke(),S.render(c,a)}J();
