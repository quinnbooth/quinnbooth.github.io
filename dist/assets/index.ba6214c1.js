import*as e from"https://unpkg.com/three@0.127.0/build/three.module.js";const I=function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function h(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=h(t);fetch(t.href,n)}};I();var q=75;const l=new e.Scene,s=new e.PerspectiveCamera(q,window.innerWidth/window.innerHeight,.1,1e3),y=new e.WebGLRenderer({canvas:document.querySelector("#bg"),antialias:!0});y.setPixelRatio(window.devicePixelRatio);y.setSize(window.innerWidth,window.innerHeight);s.position.setZ(40);y.render(l,s);var x=2*Math.tan(s.fov*Math.PI/180/2)*s.position.z,H=x*s.aspect;s.position.setZ(500);new e.TextureLoader().load("images/space3.jpg");const O=new e.SphereGeometry(3,100,10,1e3),T=new e.SphereGeometry(1,100,10,1e3),W=new e.SphereGeometry(1.3,100,10,1e3),Z=new e.SphereGeometry(1.3,100,10,1e3),N=new e.SphereGeometry(1,100,10,1e3),V=new e.SphereGeometry(2.3,100,10,1e3),k=new e.CircleGeometry(2.9,100,0,1e3),K=new e.SphereGeometry(2,100,10,1e3),J=new e.CircleGeometry(3,100,0,1e3),Q=new e.SphereGeometry(1.7,100,10,1e3),U=new e.CircleGeometry(2.5,100,0,1e3),X=new e.SphereGeometry(1.6,100,10,1e3),Y=new e.CircleGeometry(2.4,100,0,1e3),_=new e.MeshBasicMaterial({color:15883266,wireframe:!1}),$=new e.MeshBasicMaterial({color:12141824,wireframe:!1}),ee=new e.MeshBasicMaterial({color:14134077,wireframe:!1}),oe=new e.MeshBasicMaterial({color:4098273,wireframe:!1}),te=new e.MeshBasicMaterial({color:12335616,wireframe:!1}),re=new e.MeshBasicMaterial({color:14925913,wireframe:!1}),ne=new e.MeshBasicMaterial({color:15323532,wireframe:!0}),se=new e.MeshBasicMaterial({color:15056232,wireframe:!1}),ie=new e.MeshBasicMaterial({color:13812125,wireframe:!0}),ae=new e.MeshBasicMaterial({color:11988723,wireframe:!1}),ce=new e.MeshBasicMaterial({color:13563384,wireframe:!0}),le=new e.MeshBasicMaterial({color:1926626,wireframe:!1}),he=new e.MeshBasicMaterial({color:6590943,wireframe:!0}),B=new e.Mesh(O,_),ue=new e.Mesh(T,$),pe=new e.Mesh(W,ee),fe=new e.Mesh(Z,oe),we=new e.Mesh(N,te),G=new e.Mesh(V,re),me=new e.Mesh(k,ne),z=new e.Mesh(K,se),Me=new e.Mesh(J,ie),A=new e.Mesh(Q,ae),de=new e.Mesh(U,ce),b=new e.Mesh(X,le),ye=new e.Mesh(Y,he);var S=0,E=[],P=[],M=[];function ve(p,f,h,i,t,n){const r=[B,ue,pe,fe,we,G,z,A,b],m=[G,z,A,b],a=[me,Me,de,ye];if(p==0){var v=H;x<v&&(v=x);var R=v/20;l.add(B);for(let o=1;o<r.length;o++){l.add(r[o]);var c=2*Math.PI*Math.random();r[o].position.set(f*Math.cos(c),f*Math.sin(c),0),f+=R,t.push(.005*Math.random()),M.push(0)}for(let o=0;o<a.length;o++)l.add(a[o]),a[o].position.set(m[o].position.x,m[o].position.y,0),i.push([.005*Math.random(),.005*Math.random(),.005*Math.random()]);S=1}else if(p==1){r[0].rotation.x+=h[0],r[0].rotation.y+=h[1],r[0].rotation.z+=h[2];for(let o=1;o<r.length;o++){const u=o-1;r[o].rotation.x+=h[0],r[o].rotation.y+=h[1],r[o].rotation.z+=h[2];var C=r[o].position.x,D=r[o].position.y,g=Math.sqrt(Math.pow(C,2)+Math.pow(D,2)),c=Math.acos(C/g)*(-2*n[u]+1)+t[u];r[o].position.x=g*Math.cos(c),r[o].position.y=g*Math.sin(c),Math.abs(c-Math.PI)<t[u]?(c=Math.PI+.001,n[u]=-1*n[u]+1):Math.abs(c)<t[u]&&(c=.001,n[u]=-1*n[u]+1)}for(let o=0;o<a.length;o++)a[o].rotation.x+=i[o][0],a[o].rotation.y+=i[o][1],a[o].rotation.z+=i[o][2],a[o].position.set(m[o].position.x,m[o].position.y,0)}else{S=0;for(var Ce in t)t.pop(),M.pop();for(var Be in i)i.pop();E=[],P=[],M=[],l.background=new e.Color(0);for(const o of r)l.remove(o);for(const o of a)l.remove(o)}}const j=new e.BufferGeometry;var F=new Float32Array(9e3);for(let p=0;p<9e3;p++)F[p]=Math.random()*600-300;j.setAttribute("position",new e.BufferAttribute(F,3));let ge=new e.TextureLoader().load("/images/star1.png"),xe=new e.PointsMaterial({color:11184810,size:.75,map:ge,transparent:!0});const d=new e.Points(j,xe);l.add(d);function Se(){s.position.z>55?(s.position.z-=w,d.rotation.z+=.0012):s.position.z>45?(w+=-.03,w<.1&&(w=.1),s.position.z-=w,d.rotation.z+=5e-4):d.rotation.z+=75e-6,s.rotation.x<.25&&(s.rotation.x+=41e-5),s.position.y>-15&&(s.position.y-=7/250)}var w=.75;function L(){requestAnimationFrame(L),ve(S,5,[.002,.001,.003],P,E,M),Se(),y.render(l,s)}L();
