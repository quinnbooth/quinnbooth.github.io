import*as e from"https://unpkg.com/three@0.127.0/build/three.module.js";const q=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function h(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=h(o);fetch(o.href,n)}};q();var H=75;const s=new e.Scene,a=new e.PerspectiveCamera(H,window.innerWidth/window.innerHeight,.1,1e3),y=new e.WebGLRenderer({canvas:document.querySelector("#bg"),antialias:!0});y.setPixelRatio(window.devicePixelRatio);y.setSize(window.innerWidth,window.innerHeight);a.position.setZ(40);y.render(s,a);var v=2*Math.tan(a.fov*Math.PI/180/2)*a.position.z,O=v*a.aspect;a.position.setZ(500);const T=new e.PointLight(16777215),P=new e.AmbientLight(16777215);P.intensity=.5;s.add(T);s.add(P);new e.TextureLoader().load("images/space3.jpg");const W=new e.SphereGeometry(3,100,10,1e3),Z=new e.SphereGeometry(1,100,10,1e3),N=new e.SphereGeometry(1.3,100,10,1e3),V=new e.SphereGeometry(1.3,100,10,1e3),k=new e.SphereGeometry(1,100,10,1e3),K=new e.SphereGeometry(2.3,100,10,1e3),J=new e.CircleGeometry(2.9,100,0,1e3),Q=new e.SphereGeometry(2,100,10,1e3),U=new e.CircleGeometry(3,100,0,1e3),X=new e.SphereGeometry(1.7,100,10,1e3),Y=new e.CircleGeometry(2.5,100,0,1e3),_=new e.SphereGeometry(1.6,100,10,1e3),$=new e.CircleGeometry(2.4,100,0,1e3),ee=new e.MeshBasicMaterial({color:15883266,wireframe:!1}),te=new e.MeshStandardMaterial({color:12141824,wireframe:!1}),oe=new e.MeshStandardMaterial({color:14134077,wireframe:!1}),re=new e.MeshStandardMaterial({color:4098273,wireframe:!1}),ne=new e.MeshStandardMaterial({color:12335616,wireframe:!1}),ae=new e.MeshStandardMaterial({color:14925913,wireframe:!1}),se=new e.MeshStandardMaterial({color:15323532,wireframe:!0}),ie=new e.MeshStandardMaterial({color:15056232,wireframe:!1}),ce=new e.MeshStandardMaterial({color:13812125,wireframe:!0}),le=new e.MeshStandardMaterial({color:11988723,wireframe:!1}),he=new e.MeshStandardMaterial({color:13563384,wireframe:!0}),ue=new e.MeshStandardMaterial({color:1926626,wireframe:!1}),pe=new e.MeshStandardMaterial({color:6590943,wireframe:!0}),F=new e.Mesh(W,ee),de=new e.Mesh(Z,te),fe=new e.Mesh(N,oe),we=new e.Mesh(V,re),me=new e.Mesh(k,ne),G=new e.Mesh(K,ae),Me=new e.Mesh(J,se),b=new e.Mesh(Q,ie),ye=new e.Mesh(U,ce),A=new e.Mesh(X,le),Se=new e.Mesh(Y,he),z=new e.Mesh(_,ue),ge=new e.Mesh($,pe);var x=0,E=[],L=[],m=[];function ve(p,d,h,i,o,n){const r=[F,de,fe,we,me,G,b,A,z],w=[G,b,A,z],c=[Me,ye,Se,ge];if(p==0){var S=O;v<S&&(S=v);var D=S/20;s.add(F);for(let t=1;t<r.length;t++){s.add(r[t]);var l=2*Math.PI*Math.random();r[t].position.set(d*Math.cos(l),d*Math.sin(l),0),d+=D,o.push(.005*Math.random()),m.push(0)}for(let t=0;t<c.length;t++)s.add(c[t]),c[t].position.set(w[t].position.x,w[t].position.y,0),i.push([.005*Math.random(),.005*Math.random(),.005*Math.random()]);x=1}else if(p==1){r[0].rotation.x+=h[0],r[0].rotation.y+=h[1],r[0].rotation.z+=h[2];for(let t=1;t<r.length;t++){const u=t-1;r[t].rotation.x+=h[0],r[t].rotation.y+=h[1],r[t].rotation.z+=h[2];var C=r[t].position.x,I=r[t].position.y,g=Math.sqrt(Math.pow(C,2)+Math.pow(I,2)),l=Math.acos(C/g)*(-2*n[u]+1)+o[u];r[t].position.x=g*Math.cos(l),r[t].position.y=g*Math.sin(l),Math.abs(l-Math.PI)<o[u]?(l=Math.PI+.001,n[u]=-1*n[u]+1):Math.abs(l)<o[u]&&(l=.001,n[u]=-1*n[u]+1)}for(let t=0;t<c.length;t++)c[t].rotation.x+=i[t][0],c[t].rotation.y+=i[t][1],c[t].rotation.z+=i[t][2],c[t].position.set(w[t].position.x,w[t].position.y,0)}else{x=0;for(var Ge in o)o.pop(),m.pop();for(var be in i)i.pop();E=[],L=[],m=[],s.background=new e.Color(0);for(const t of r)s.remove(t);for(const t of c)s.remove(t)}}const j=new e.BufferGeometry;var B=new Float32Array(9e3);for(let p=0;p<9e3;p++)B[p]=Math.random()*600-300;j.setAttribute("position",new e.BufferAttribute(B,3));let xe=new e.TextureLoader().load("/images/star1.png"),Ce=new e.PointsMaterial({color:11184810,size:.75,map:xe,transparent:!0});const M=new e.Points(j,Ce);s.add(M);var f=.75;function Fe(){a.position.z>55?(a.position.z-=f,M.rotation.z+=.0012):a.position.z>45?(f+=-.03,f<.1&&(f=.1),a.position.z-=f,M.rotation.z+=5e-4):M.rotation.z+=75e-6,a.rotation.x<.25&&(a.rotation.x+=41e-5),a.position.y>-15&&(a.position.y-=7/250)}function R(){requestAnimationFrame(R),ve(x,5,[.002,.001,.003],L,E,m),Fe(),y.render(s,a)}R();
